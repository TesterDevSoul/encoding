## Allure2 报告中添加用例描述


### 应用场景

在测试用例执行过程中，有时需要对用例的场景、预期结果等进行更加详细的描述，这时可以使用Allure2报告中的添加用例描述功能。该功能可以帮助测试人员更好地理解测试用例，提高用例执行效率和测试质量。

以下是一些应用场景：

#### 1. 描述测试用例的预期行为和结果

描述测试用例的预期行为和结果，帮助测试人员更好地了解测试用例的目的和设计思路，方便开发人员根据测试结果进行修改和优化；

#### 2. 提供测试用例的详细信息

提供测试用例的详细信息，包括测试数据、测试步骤、测试环境等，方便测试人员快速排查问题；

#### 3. 提供更详细的信息和上下文

在测试用例失败时，提供更详细的信息和上下文，帮助测试人员更快速地定位问题。

总之，通过在Allure2报告中添加用例描述，可以提高测试用例的可维护性和可读性，方便团队成员之间的沟通和协作。

## 添加用例描述的方式

1. 在测试方法中添加`@Description`注解。

    >在测试方法上添加`@Description`注解，并将需要添加的用例描述作为注解参数。
    
2. 使用`Allure.addDescription()`方法。
    >在测试方法中，可以使用Allure.addDescription()方法添加用例描述信息。

在Allure2报告中，用例描述信息会在报告页面的测试用例详情中显示。


### 注解方式添加

#### 语法结构

```java
@Description("这里是用例描述")
@Test
void testMethod() {
   // test method code
}
```
- `@Description` 注解中的字符串参数即为用例描述内容。在测试方法上方添加该注解即可将用例描述信息添加到 `Allure2` 报告中。





#### 示例代码

```java
@DisplayName("验证测试用例描述")
public class DescriptionAnTest {

    @Test
    @Description("这里是加法用例描述，只是简单写了一个加法运算")
    @DisplayName("验证加法计算：18 + 9")
    public void testAdd() {
        int result = 18 + 9;
        assertEquals(27,result,"18 + 9的计算结果失败");
    }
}
```

![](https://cdn.jsdelivr.net/gh/TesterDevSoul/pic/manual/20230315173709.png)


### 调用方法添加

其中参数description表示要添加的描述信息。

#### 语法结构

```java
Allure.description(final String description);
```

该方法用于向测试用例或测试步骤中添加描述信息。

- `description`：表示要添加的描述信息。


#### 示例代码

```java
@DisplayName("验证测试用例描述")
public class DescriptionMethodTest {

    @Test
    @DisplayName("验证加法计算：22 + 1")
    public void testAdd() {
        int result = 22 + 1;
        Allure.description("这是一个动态添加的用例描述");
        Allure.description("这里使用的方法添加的加法用例描述，只是简单写了一个加法运算");
        assertEquals(23,result,"22 + 1的计算结果失败");
    }
}
```
![](https://cdn.jsdelivr.net/gh/TesterDevSoul/pic/manual/20230315173619.png)

