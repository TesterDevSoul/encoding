---
title: Client Server Architecture and HTTP Protocol
date: 2022-08-15 14:15:29.673
updated: 2022-08-15 14:28:15.34
url: /archives/ra01
categories: 
- rest-assured
tags: 
- rest-assured
---

# 客户端服务器架构和 HTTP 协议
对于任何 `Web` 应用程序，`API` 服务都是构建块「`building block`」。因此，作为测试人员，确保 `Web` 服务没有错误并促进信息安全交换变得非常重要。

在本系列文章中，我们将介绍使用 `RestAssured` 实现 `Rest API` 的自动化。开始之前，先看看一些基础知识，以加强我们对 `API` 的了解。首先要了解的基本概念之一是了解 **客户端服务器架构**。

## 本章要点

- 客户端服务器架构
	- 什么是客户？
	- 什么是服务器？
- 客户端服务器架构如何工作？
- 有哪些不同类型的客户端服务器架构？
	- 1层架构
	- 2层架构
	- 3层架构
	- N 层架构
- 使用客户端服务器架构的优势？
- 客户端服务器架构的缺点是什么？



## 什么是客户端服务器架构？
客户端服务器架构在简单意义上可以描述为 **消费者-生产者** 模型，其中 *客户端* 充当**消费者**，即**服务请求者**， *服务器* 充当**生产者**，即**服务提供者**。


### 客户
计算中的客户端是与远程系统或软件连接以获取信息的系统或程序。**客户端向服务器发出请求并得到信息响应**。可能存在三种类型的客户端——胖客户端、瘦客户端或混合客户端。

- 胖客户端 *无需服务器即可自行执行操作*。**个人计算机**是胖客户端的一个很好的例子，因为它的大部分操作都独立于外部服务器。
- 瘦客户端 *使用主机的资源* ，其中瘦客户端呈现由应用服务器处理的数据。**`Web` 浏览器**是瘦客户端的一个示例。
- 混合客户端是 *胖客户端* 和 *瘦客户端* 的组合。就像胖客户端一样，它在 *内部处理数据* ，但 *依赖于应用程序服务器来获取持久数据* 。在系统上运行的任何 **在线游戏** 都可以是混合客户端的示例。


### 服务器
服务器是**充当数据提供者的系统或计算机程序**。它可以使用互联网通过 `LAN`（局域网）或 `WAN`（广域网）提供数据。服务器提供的功能称为 *服务* 。这些服务是作为对客户请求的响应而提供的。

一些常见的服务器：
- **数据库服务器** -  用于通过网络维护和共享数据库。「`MySql`」
- **应用程序服务器** - 用于在 `Web` 浏览器中托管应用程序，无需在本地安装即可使用它们。
- **邮件服务器**  - 用于电子邮件通信。
- **Web 服务器** - 用于托管网页，因为可以使用全球网络。「博客、论坛」
- **游戏服务器** - 用于玩多人游戏。
- **文件服务器** - 用于通过网络共享文件和文件夹。


这些客户端和服务器不一定位于同一位置。它们可以位于不同的位置，也可以作为不同进程驻留在同一台计算机上。它们通过 `Web` 连接，并通过 **`HTTP` 协议** 进行交互。
可能有多个客户端请求一个服务器，或者一个客户端可以从多个服务器请求。

### 可视化客户端服务器架构
下图可视化了一个典型的 **客户端-服务器** 模型：
![](https://cdn.jsdelivr.net/gh/testeru-top/top-images/restassured/202208151409382.png)


单个服务器可以服务多个客户端的请求。

类似地，客户端可能正在从不同的服务器请求数据。
>例如，百度搜索的例子。在这里，百度充当服务器，在不同地方的用户充当客户端。

我们在日常生活中遇到的另一个例子是网上银行，我们用来打开门户的浏览器充当客户端，而数据库和银行软件充当服务器。这会在多个用户之间传播资源共享，从而提高成本效益并节省时间。

在下一节中，让我们看看 客户端-服务器 模型是如何工作的，以及这种交互是如何发生的。

## 客户端服务器架构如何工作？
正如上面已经讨论过的， **客户端服务器模型** 的行为类似于 **消费者-服务器** 关系。但它是如何工作的？让我们通过下面讨论的一系列步骤来查看客户端-服务器架构中的一些信息流



1. `HTTP` 通信协议有助于在客户端和服务器之间建立连接。
2. 客户端通过保持连接以 `XML` 或 `JSON` 的形式发送请求。客户端和服务器都能识别的消息格式。
3. 在接收到客户端请求后，服务器会搜索请求的数据并以与接收请求相同的格式将相关详细信息作为响应发送回。
![](https://cdn.jsdelivr.net/gh/testeru-top/top-images/restassured/202208151415427.png)


上图显示了客户端和服务器之间的通信过程。客户端发送一个HTTP 请求，服务器为此发送一个HTTP 响应。

### 可视化客户端服务器架构的流程
假设我需要从家到附近的超市购物。可以骑自行车到达超市，到达后可以向销售人员订购您需要的商品。现在，如果销售人员找到货物，他会将它们带给您，否则他会让您知道它们的缺货情况。

现在，您可以将上面的示例与导航链接到一个网站。
>家和商店之间的路径就是互联网连接，选择的传输方式是`TCP/IP`「骑自行车、开车、步行」，它定义了数据通过 `Internet` 传输的通信协议。「从家到超市的方式」
>**店铺地址**是网站的`DNS`（域名服务器）。
>我与销售员的通信语言是 `HTTP`（超文本传输协议），它定义了客户端和服务器之间交互的语言。
>您的订单请求是 `HTTP` 请求，而关于商品可用性{是否存在，剩余数量等等}的更新是 `HTTP` 响应。

当 `Web` 浏览器使用网站的 `DNS` 向服务器发送请求，并且服务器批准客户端请求时，它会发送 **200 OK** 成功消息。此消息意味着服务器已找到该网站，并将网站文件以小块数据的形式发送回浏览器。然后浏览器收集并组装这些小块以形成完整的网站并将其显示给我们。


### 有哪些不同类型的客户端-服务器架构？
**客户端-服务器架构**有以下四种类型：

- 1 层架构
- 2 层架构
- 3 层架构
- N 层架构
#### 1 层架构
在 1 层架构中，业务逻辑、数据逻辑和用户界面都驻留在同一台机器上。环境简单便宜，因为客户端和服务器在同一个系统上，但是数据的差异导致工作的重复。此类系统**将数据存储在本地文件或共享驱动程序中**。1 层应用程序的示例是 * MP3 播放器* 或 *MS Office 文件*。

#### 2 层架构
由于没有任何中间服务器，因此 2 层架构在性能方面提供了最佳环境。用户界面位于客户端，而数据库位于服务器端。数据库和业务逻辑可以存储在客户端或服务器端，但必须保持不变。如果两者都位于客户端，则该架构称为胖客户端瘦服务器架构。相反，如果两者都位于服务器端，则该架构称为瘦客户端胖服务器架构。*在线订票系统* 一般采用两层架构。

#### 3层架构
三层架构涉及用于客户端和服务器之间交互的中间件。虽然它很贵，但非常易于使用。*中间件* 提高了性能和灵活性。它存储业务和数据逻辑。三层架构中的三层是：

- 表示层（客户层）
- 应用层（业务层）
- 数据库层（数据层）


几乎所有的`Web` 应用程序都是 3 层架构。

#### N 层架构
`n` 层架构是 3 层架构的缩放形式。在这样的环境中，处理、数据管理和表示功能被隔离在不同的层中。**隔离使系统易于管理和维护**。这也称为多层架构。

### 使用客户端-服务器架构有什么优势？
客户端-服务器架构具有以下优点 ：

- 将数据保存在一个中心位置。
- 提供备份和数据恢复选项。
- 从单个服务器访问数据有助于降低维护成本并减少维护成本。
- 客户端和服务器的容量可以单独修改。
### 客户端-服务器架构的问题？
客户端-服务器架构有以下缺点： 
- 病毒可以很容易地攻击服务器上的客户端。
- 如果发生网络故障，应用程序的整个架构都会受到影响。
- 数据传输过程中可能出现中间人攻击或数据欺骗。
- 由于容易受到不同类型的攻击，它需要一个特殊且安全的网络操作系统。
- 由于传输过程中的某些入侵，数据包完全丢失或被修改的可能性。
## 总结
- 客户端服务器模型类似于推销员-客户关系
- 客户端和服务器之间的通信通过 HTTP 协议进行
- 客户端-服务器架构分为 1 层、2 层、3 层和 n 层