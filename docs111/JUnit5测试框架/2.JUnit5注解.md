---
notebook: JUnit5
title: 2.JUnit5æ³¨è§£
tags: Xunit
---

# JUnit5åŸºæœ¬æ³¨è§£


|æ³¨è§£|æè¿°|
|---|---|
|`@Test`|è¡¨ç¤ºæ–¹æ³•æ˜¯æµ‹è¯•æ–¹æ³•|
|`@BeforeEach`|è¡¨ç¤ºè¯¥æ³¨é‡Šçš„æ–¹æ³•åº”è¯¥è¢«æ‰§è¡Œä¹‹å‰ çš„æ¯ä¸ª @Testï¼Œ@RepeatedTestï¼Œ@ParameterizedTestï¼Œæˆ–@TestFactoryæ–¹æ³•åœ¨å½“å‰ç±»;å¯è¢«ç»§æ‰¿|
|`@AfterEach`|è¡¨ç¤ºè¢«æ³¨è§£çš„æ–¹æ³•åº”è¯¥åœ¨å½“å‰ç±»ä¸­çš„æ¯ä¸ªæ¯ä¸ª @Testï¼Œ@RepeatedTestï¼Œ@ParameterizedTestï¼Œæˆ–@TestFactoryæ–¹æ³•ä¹‹åæ‰§è¡Œ;å¯è¢«ç»§æ‰¿|
|`@BeforeAll`|å¿…é¡»æ˜¯static;å¯è¢«ç»§æ‰¿;æœ€æ—©æ‰§è¡Œ|
|`@AfterAll`|å¿…é¡»æ˜¯static;å¯è¢«ç»§æ‰¿;æœ€åæ‰§è¡Œ|

- å…¶å®å°±åƒæˆ‘ä»¬ä¸Šå¤§å­¦çš„è¿™ä¸ªé˜¶æ®µ

å¯¹åº”ä»£ç åœ°å€ï¼š
[ç¤ºä¾‹ä»£ç ](https://gitee.com/testeru/xunit/blob/master/junit5-base/src/test/java/com/testeru/class1)

## `@Test`

- è€ƒè¯•æˆç»©

```java
package com.testeru.class1;

import org.junit.jupiter.api.Test;

/**
 * @program: xunit
 * @author: ç›–ç›–
 * @description: @Test
 * @Version 1.0
 * @create: 2021/12/9 11:28 ä¸Šåˆ
 */
public class Demo1Test {
    @Test
    public void testMethod01() {
        System.out.println("å¤§ä¸€çš„æ•°å­¦è€ƒäº†95åˆ†ï¼");
    }
}
```



## `@BeforeEach`

- æ¯ä¸ª`@Test`ä¹‹å‰æ‰§è¡Œ
  
- æœ‰æˆç»©ä¹‹å‰æ˜¯æé†’å¤§å®¶æ¥è€ƒè¯•

- ç¼–å†™å¤šä¸ªtestéªŒè¯æ˜¯å¦åœ¨æ¯ä¸ªä¹‹å‰æ‰§è¡Œ

```java
package com.testeru.class1;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

/**
 * @program: xunit
 * @author: ç›–ç›–
 * @description:  @BeforeEach åœ¨æ¯ä¸ªTestä¹‹å‰æ‰§è¡Œ
 * @Version 1.0
 * @create: 2021/12/9 11:28 ä¸Šåˆ
 */
public class Demo2Test {

    @BeforeEach
    public void beforEach1(){
        System.out.println("è¦å¼€å§‹è¿›è¡Œå‡çº§è€ƒè¯•å•¦ï¼");

    }
    @Test
    public void testMethod01() {
        System.out.println("å¤§ä¸€çš„æ•°å­¦è€ƒäº†95åˆ†ï¼");
    }

    @Test
    public void testMethod02() {
        System.out.println("å¤§äºŒçš„æ•°å­¦è€ƒäº†98åˆ†ï¼");
    }
}
```



## `@AfterEach`

- æ¯ä¸ª@Testä¹‹åæ‰§è¡Œ
  
- æœ‰æˆç»©ä¹‹å‰æ˜¯æé†’å¤§å®¶æ¥è€ƒè¯•

- ç¼–å†™å¤šä¸ªtestéªŒè¯æ˜¯å¦åœ¨æ¯ä¸ªä¹‹åæ‰§è¡Œ


```java
package com.testeru.class1;

import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

/**
 * @program: xunit
 * @author: ç›–ç›–
 * @description: @AfterEach åœ¨æ¯ä¸ªTestä¹‹åæ‰§è¡Œ
 * @Version 1.0
 * @create: 2021/12/9 11:28 ä¸Šåˆ
 */
public class Demo3Test {

    private static double score;

    @BeforeEach
    public void beforEach1(){
        System.out.println("è¦å¼€å§‹è¿›è¡Œå‡çº§è€ƒè¯•å•¦ï¼");
    }

    @AfterEach
    public void afterEach1(){
        //ä¸‰ç›®è¿ç®—ç¬¦åˆ¤æ–­è€ƒè¯•æˆç»©
        System.out.println(score < 60 ? "æŒ‚ç§‘äº†ï¼Œç­‰ä¸‹å­¦æœŸè¡¥è€ƒå§ï¼" : "æ²¡æŒ‚ï¼Œä¸ç”¨è¡¥è€ƒå’¯ï¼");
    }

    @Test
    public void testMethod01() {
        score = 55;
        System.out.println("å¤§ä¸€çš„æ•°å­¦è€ƒäº†" + score + "åˆ†ï¼");

    }

    @Test
    public void testMethod02() {
        score = 98;
        System.out.println("å¤§äºŒçš„æ•°å­¦è€ƒäº†" + score + "åˆ†ï¼");
    }
}
```



## `@BeforeAll`

- æ–¹æ³•æ˜¯`static`

- åœ¨ç±»é‡Œé¢æœ€å…ˆæ‰§è¡Œçš„æ–¹æ³•

- å…ˆä¸Šäº†å¤§å­¦æ‰èƒ½è¿›è¡Œå¤§å­¦é‡Œçš„è€ƒè¯•

```java
package com.testeru.class1;

import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

/**
 * @program: xunit
 * @author: ç›–ç›–
 * @description: @Test
 * @Version 1.0
 * @create: 2021/12/9 11:28 ä¸Šåˆ
 */
public class Demo4Test {

    private static double score;

    @BeforeAll
    public static void beforeAll1(){
        System.out.println("æˆ‘ä¸Šå¤§å­¦å•¦ï¼");
    }
    @BeforeEach
    public void beforEach1(){
        System.out.println("è¦å¼€å§‹è¿›è¡Œå‡çº§è€ƒè¯•å•¦ï¼");
    }

    @AfterEach
    public void afterEach1(){
        System.out.println(score < 60 ? "æŒ‚ç§‘äº†ï¼Œç­‰ä¸‹å­¦æœŸè¡¥è€ƒå§ï¼" : "æ²¡æŒ‚ï¼Œä¸ç”¨è¡¥è€ƒå’¯ï¼");
    }

    @Test
    public void testMethod01() {
        score = 55;
        System.out.println("å¤§ä¸€çš„æ•°å­¦è€ƒäº†" + score + "åˆ†ï¼");

    }

    @Test
    public void testMethod02() {
        score = 98;
        System.out.println("å¤§äºŒçš„æ•°å­¦è€ƒäº†" + score + "åˆ†ï¼");

    }
}
```



## `@AfterAll`


- æ–¹æ³•æ˜¯`static`

- åœ¨ç±»é‡Œé¢æœ€åæ‰§è¡Œçš„æ–¹æ³•

- æœ€åä¸ç®¡æ˜¯æ¯•ä¸šè¿˜æ˜¯è‚„ä¸šéƒ½è¦ä»å¤§å­¦ç¦»å¼€



```java
package com.testeru.class1;

import org.junit.jupiter.api.*;

/**
 * @program: xunit
 * @author: ç›–ç›–
 * @description: @Test
 * @Version 1.0
 * @create: 2021/12/9 11:28 ä¸Šåˆ
 */
public class Demo5Test {

    private static double score;

    @BeforeAll
    public static void beforeAll1(){
        System.out.println("æˆ‘ä¸Šå¤§å­¦å•¦ï¼");
    }
    @AfterAll
    public static void afterAll1(){
        System.out.println("æˆ‘æ¯•ä¸šäº†ï¼Œè¦ç¦»å¼€è¿™æ‰€å­¦æ ¡äº†ï¼");
    }
    @BeforeEach
    public void beforEach1(){
        System.out.println("è¦å¼€å§‹è¿›è¡Œå‡çº§è€ƒè¯•å•¦ï¼");
    }

    @AfterEach
    public void afterEach1(){
        System.out.println(score < 60 ? "æŒ‚ç§‘äº†ï¼Œç­‰ä¸‹å­¦æœŸè¡¥è€ƒå§ï¼" : "æ²¡æŒ‚ï¼Œä¸ç”¨è¡¥è€ƒå’¯ï¼");
    }

    @Test
    public void testMethod01() {
        score = 55;
        System.out.println("å¤§ä¸€çš„æ•°å­¦è€ƒäº†" + score + "åˆ†ï¼");

    }

    @Test
    public void testMethod02() {
        score = 98;
        System.out.println("å¤§äºŒçš„æ•°å­¦è€ƒäº†" + score + "åˆ†ï¼");

    }

    @Test
    public void testMethod03() {
        score = 78;
        System.out.println("å¤§ä¸‰çš„ä¸“ä¸šè¯¾è€ƒäº†" + score + "åˆ†ï¼");

    }

    @Test
    public void testMethod04() {
        score = 66;
        System.out.println("å¤§å››çš„ä¸“ä¸šè¯¾è€ƒäº†" + score + "åˆ†ï¼");

    }
}
```


è¿è¡Œç»“æœï¼š

```
æˆ‘ä¸Šå¤§å­¦å•¦ï¼
è¦å¼€å§‹è¿›è¡Œå‡çº§è€ƒè¯•å•¦ï¼
å¤§ä¸€çš„æ•°å­¦è€ƒäº†55.0åˆ†ï¼
æŒ‚ç§‘äº†ï¼Œç­‰ä¸‹å­¦æœŸè¡¥è€ƒå§ï¼
è¦å¼€å§‹è¿›è¡Œå‡çº§è€ƒè¯•å•¦ï¼
å¤§äºŒçš„æ•°å­¦è€ƒäº†98.0åˆ†ï¼
æ²¡æŒ‚ï¼Œä¸ç”¨è¡¥è€ƒå’¯ï¼
è¦å¼€å§‹è¿›è¡Œå‡çº§è€ƒè¯•å•¦ï¼
å¤§ä¸‰çš„ä¸“ä¸šè¯¾è€ƒäº†78.0åˆ†ï¼
æ²¡æŒ‚ï¼Œä¸ç”¨è¡¥è€ƒå’¯ï¼
è¦å¼€å§‹è¿›è¡Œå‡çº§è€ƒè¯•å•¦ï¼
å¤§å››çš„ä¸“ä¸šè¯¾è€ƒäº†66.0åˆ†ï¼
æ²¡æŒ‚ï¼Œä¸ç”¨è¡¥è€ƒå’¯ï¼
æˆ‘æ¯•ä¸šäº†ï¼Œè¦ç¦»å¼€è¿™æ‰€å­¦æ ¡äº†ï¼
```

## `Question`

- å¦‚æœæ˜¯ä¸¤ä¸ª`Test`ç±»`ATest`ã€`BTest`ï¼Œéƒ½æœ‰`beforeall`,`beforeEach`,`afterAll`,`afterEach`

- `BTest extends ATest`

- æ‰§è¡Œé¡ºåºï¼Ÿï¼Ÿï¼Ÿ

- æ³¨è§£æ˜¯å¦ç»§æ‰¿

## å¤šä¸ªç±»ç»§æ‰¿æ‰§è¡Œæµç¨‹å›¾

![](https://gitee.com/testeru/pichub/raw/master/images/202111091456229.png)

## ç»ƒä¹ `demo`

![](https://gitee.com/datau001/picgo/raw/master/images/202112091419202.png)


```
æˆ‘ä¸Šå¤§å­¦å•¦ï¼
æˆ‘è¦å»æ‰¾å®¿èˆçš„åŒä¼´ï¼
è¦å¼€å§‹è¿›è¡Œå‡çº§è€ƒè¯•å•¦ï¼
æˆ‘è¦ç†¬å¤œå¥‹æˆ˜å¤ä¹ å•¦ï¼
å¤§ä¸€çš„æ•°å­¦è€ƒäº†55.0åˆ†ï¼
æŒ‚ç§‘äº†ï¼Œç­‰ä¸‹å­¦æœŸè¡¥è€ƒå§ï¼
æˆç»©å‡ºæ¥äº†ï¼Œè¡¥è€ƒä¸è¡¥è€ƒéƒ½ä¸é‡è¦ï¼Œæˆ‘ä»¬å»happyï¼
è¦å¼€å§‹è¿›è¡Œå‡çº§è€ƒè¯•å•¦ï¼
æˆ‘è¦ç†¬å¤œå¥‹æˆ˜å¤ä¹ å•¦ï¼
å¤§äºŒçš„æ•°å­¦è€ƒäº†98.0åˆ†ï¼
æŒ‚ç§‘äº†ï¼Œç­‰ä¸‹å­¦æœŸè¡¥è€ƒå§ï¼
æˆç»©å‡ºæ¥äº†ï¼Œè¡¥è€ƒä¸è¡¥è€ƒéƒ½ä¸é‡è¦ï¼Œæˆ‘ä»¬å»happyï¼
è¦å¼€å§‹è¿›è¡Œå‡çº§è€ƒè¯•å•¦ï¼
æˆ‘è¦ç†¬å¤œå¥‹æˆ˜å¤ä¹ å•¦ï¼
å¤§ä¸‰çš„ä¸“ä¸šè¯¾è€ƒäº†78.0åˆ†ï¼
æ²¡æŒ‚ï¼Œä¸ç”¨è¡¥è€ƒå’¯ï¼
æˆç»©å‡ºæ¥äº†ï¼Œè¡¥è€ƒä¸è¡¥è€ƒéƒ½ä¸é‡è¦ï¼Œæˆ‘ä»¬å»happyï¼
è¦å¼€å§‹è¿›è¡Œå‡çº§è€ƒè¯•å•¦ï¼
æˆ‘è¦ç†¬å¤œå¥‹æˆ˜å¤ä¹ å•¦ï¼
å¤§å››çš„ä¸“ä¸šè¯¾è€ƒäº†66.0åˆ†ï¼
æ²¡æŒ‚ï¼Œä¸ç”¨è¡¥è€ƒå’¯ï¼
æˆç»©å‡ºæ¥äº†ï¼Œè¡¥è€ƒä¸è¡¥è€ƒéƒ½ä¸é‡è¦ï¼Œæˆ‘ä»¬å»happyï¼
æˆ‘ä»å®¿èˆæ¬å‡ºæ¥å•¦ï¼
æˆ‘æ¯•ä¸šäº†ï¼Œè¦ç¦»å¼€è¿™æ‰€å­¦æ ¡äº†ï¼
```

![](https://gitee.com/datau001/picgo/raw/master/images/202112091415075.png)


# JUnit5å¸¸ç”¨æ³¨è§£

|æ³¨è§£|æè¿°|
|---|---|
|`@DisplayName`|æµ‹è¯•ç±»æˆ–æµ‹è¯•æ–¹æ³•çš„è‡ªå®šä¹‰æ˜¾ç¤ºåç§°;ç±»æ³¨é‡Šä¸ä¼šè¢«ç»§æ‰¿|
|`@RepeatedTest`|é‡å¤æµ‹è¯•æµ‹è¯•ï¼›è¿™äº›æ–¹æ³•æ˜¯ç»§æ‰¿çš„ï¼Œé™¤éå®ƒä»¬è¢«è¦†ç›–|
|`@Disabled`|ç¦ç”¨æµ‹è¯•ç±»æˆ–æµ‹è¯•æ–¹æ³•|
|`@TestMethodOrder`|é…ç½®æ’åºå™¨|
|`@Order`|æ–¹æ³•é¡ºåº|

## `@DisplayName`


- å¯ä»¥åœ¨ç±»ä¸Š

- å¯ä»¥æ”¾åœ¨æ–¹æ³•ä¸Š

- ç±»ç»§æ‰¿çš„æ—¶å€™æ²¡æœ‰ç»§æ‰¿è¯¥æ–¹æ³•

- å¯ä»¥åŒ…å«ç©ºæ ¼ã€ç‰¹æ®Šå­—ç¬¦ç”šè‡³è¡¨æƒ…ç¬¦å·

![æˆªå±2021-11-22 ä¸Šåˆ11.52.39](https://gitee.com/datau001/picgo/raw/master/images/202111221153227.png)

```java
package com.testeru.class3;

import org.junit.jupiter.api.*;

/**
 * @program: xunit
 * @author: ç›–ç›–
 * @description: @DisplayName
 * æµ‹è¯•ç±»æˆ–æµ‹è¯•æ–¹æ³•çš„è‡ªå®šä¹‰æ˜¾ç¤ºåç§°;ä¸ä¼šè¢«ç»§æ‰¿
 * @Version 1.0
 * @create: 2021/12/9 11:28 ä¸Šåˆ
 */
@DisplayName("ç±³å°åœˆä¸Šå­¦è®°")
public class Demo6Test {

    private static double score;

    @BeforeAll
    public static void beforeAll1(){
        System.out.println("æˆ‘ä¸Šå¤§å­¦å•¦ï¼");
    }
    @AfterAll
    public static void afterAll1(){
        System.out.println("æˆ‘æ¯•ä¸šäº†ï¼Œè¦ç¦»å¼€è¿™æ‰€å­¦æ ¡äº†ï¼");
    }
    @BeforeEach
    public void beforEach1(){    
        System.out.println("è¦å¼€å§‹è¿›è¡Œå‡çº§è€ƒè¯•å•¦ï¼");
    }

    @AfterEach
    public void afterEach1(){
        System.out.println(score < 60 ? "æŒ‚ç§‘äº†ï¼Œç­‰ä¸‹å­¦æœŸè¡¥è€ƒå§ï¼" : "æ²¡æŒ‚ï¼Œä¸ç”¨è¡¥è€ƒå’¯ï¼");
    }

    @Test
    @DisplayName("å¤§ä¸€")
    public void testMethod01() {
        score = 55;
        System.out.println("å¤§ä¸€çš„æ•°å­¦è€ƒäº†" + score + "åˆ†ï¼");

    }

    @Test
    @DisplayName("å¤§äºŒ")
    public void testMethod02() {
        score = 98;
        System.out.println("å¤§äºŒçš„æ•°å­¦è€ƒäº†" + score + "åˆ†ï¼");

    }
}
```

### ç±»æ³¨è§£ä¸èƒ½è¢«ç»§æ‰¿



```java
package com.testeru.class3;

import org.junit.jupiter.api.*;

/**
 * @program: xunit
 * @author: ç›–ç›–
 * @description: @DisplayName
 * æµ‹è¯•ç±»æˆ–æµ‹è¯•æ–¹æ³•çš„è‡ªå®šä¹‰æ˜¾ç¤ºåç§°;ä¸ä¼šè¢«ç»§æ‰¿
 * @Version 1.0
 * @create: 2021/12/9 11:28 ä¸Šåˆ
 */
public class Demo7Test extends Demo6Test{
    private static double score;
    
    @Test
    @DisplayName("ğŸ˜Š")
    public void testMethod03() {
        score = 78;
        System.out.println("å¤§ä¸‰çš„ä¸“ä¸šè¯¾è€ƒäº†" + score + "åˆ†ï¼");

    }

    @Test
    @DisplayName("\uD83D\uDE31")
    public void testMethod04() {
        score = 66;
        System.out.println("å¤§å››çš„ä¸“ä¸šè¯¾è€ƒäº†" + score + "åˆ†ï¼");

    }
}
```


## `@RepeatedTest`

- æ–¹æ³•é‡å¤è¿›è¡Œæµ‹è¯•

- æœ‰è¯¥æ³¨è§£ä¸éœ€è¦`@Test`

```java
package com.testeru.class3;

import org.junit.jupiter.api.*;

/**
 * @program: xunit
 * @author: ç›–ç›–
 * @description: @DisplayName
 * æµ‹è¯•ç±»æˆ–æµ‹è¯•æ–¹æ³•çš„è‡ªå®šä¹‰æ˜¾ç¤ºåç§°;ä¸ä¼šè¢«ç»§æ‰¿
 * @Version 1.0
 * @create: 2021/12/9 11:28 ä¸Šåˆ
 */
@DisplayName("ç±³å°åœˆä¸Šå­¦è®°")
public class Demo8Test {

    private static double score;

    @BeforeAll
    public static void beforeAll1(){
        System.out.println("æˆ‘ä¸Šå¤§å­¦å•¦ï¼");
    }
    @AfterAll
    public static void afterAll1(){
        System.out.println("æˆ‘æ¯•ä¸šäº†ï¼Œè¦ç¦»å¼€è¿™æ‰€å­¦æ ¡äº†ï¼");
    }
    @BeforeEach
    public void beforEach1(){
        System.out.println("è¦å¼€å§‹è¿›è¡Œå‡çº§è€ƒè¯•å•¦ï¼");
    }

    @AfterEach
    public void afterEach1(){
        System.out.println(score < 60 ? "æŒ‚ç§‘äº†ï¼Œç­‰ä¸‹å­¦æœŸè¡¥è€ƒå§ï¼" : "æ²¡æŒ‚ï¼Œä¸ç”¨è¡¥è€ƒå’¯ï¼");
    }

    @Test
    @DisplayName("å¤§ä¸€")
    public void testMethod01() {
        score = 55;
        System.out.println("å¤§ä¸€çš„æ•°å­¦è€ƒäº†" + score + "åˆ†ï¼");

    }

    @DisplayName("å¤§äºŒ")
    @RepeatedTest(2)
    public void testMethod02() {
        score = 98;
        System.out.println("å¤§äºŒçš„æ•°å­¦è€ƒäº†" + score + "åˆ†ï¼");

    }

}

```

![](https://gitee.com/datau001/picgo/raw/master/images/test/202112091902677.png)


## `@Disabled`

- ç¦ç”¨æµ‹è¯•ç±»æˆ–æµ‹è¯•æ–¹æ³•
- ä¸ä¼šè¢«ç»§æ‰¿
  - `Demo11Test`ç»§æ‰¿`Demo10Test`ã€Œ`Demo10Test`ç±»ä¸Šæ·»åŠ `@Disabled`ã€ï¼Œè¿è¡Œ`Demo11Test`ï¼Œå¯¹åº”åªè¿è¡Œ`Demo11Test`çš„å†…å®¹


- ç”¨mavenå‘½ä»¤è¡Œæ¥åŒºåˆ†ç±»æ˜¯å¦è¢«ç¦ç”¨
  

```
mvn test -Dtest=com.testeru.class3.Demo10Test
```


![](https://gitee.com/datau001/picgo/raw/master/images/test/202112091458065.png)
