## 隐式等待

在 Selenium 中，隐式等待（implicit wait）是一种等待机制，用于在寻找 Web 元素时等待一段时间，直到元素出现为止。

隐式等待相当于告诉WebDriver去等待一定时间后再去执行代码操作。也就是页面加载完成后，才会执行下一步。

如果某些元素不是立即可用的，隐式等待是告诉WebDriver去等待一定的时间后去查找元素。

>隐式等待指定了一个时间段，在这个时间段内，如果 Selenium 在页面上没有找到需要的元素，就会等待一段时间再尝试查找。如果在等待时间内找到了元素，则继续执行后续的操作，否则会抛出找不到元素的异常。

隐式等待对整个WebDriver的周期都起作用，所以只要设置一次即可。默认等待时间是0秒。

### 应用场景

1. 网页加载缓慢：有些网页可能由于网络或服务器等原因加载速度较慢，此时可以使用隐式等待等待元素加载完成。

1. 动态元素加载：有些网页上的元素可能是通过 Ajax 或 JavaScript 动态加载的，此时需要等待元素加载完成后再进行操作。

1. 异步加载：有些网页上的元素可能是通过异步加载的方式进行加载的，此时也需要等待元素加载完成后再进行操作。

1. 不稳定的元素：有些元素可能会因为网络或页面结构变化等原因出现不稳定的情况，此时可以使用隐式等待等待元素稳定后再进行操作。

在这些场景下，使用隐式等待可以有效地避免 Selenium 在元素未加载完成时就进行操作而出现异常。因此，在编写 Selenium 脚本时，合理地使用隐式等待可以提高代码的稳定性和可靠性。


### 弊端

#### 页面加载完成，才能执行下一步

把隐式等待当做**全局变量**，它影响整个页面，所以程序需要等待整个页面加载完成（就是浏览器标签栏那个小圈不再转）时，才会执行下一步。

#### 增加不必要的加载时间

但可能页面加载未完成的时候，需要定位的元素已经加载完成了。

但受限于某些JS文件、图片加载特别慢，我们不能执行下一步，必须得等到**网页所有东西都加载完**了才能下一步。

 
### 语法

设置隐式等待的时间：

```java
WebDriverWait wait = new WebDriverWait(webDriver, Duration.ofSeconds(timeout), Duration.ofSeconds(sleep));
``` 


需要注意的是，隐式等待适用于所有的查找操作，包括 find_element_by_*() 和 find_elements_by_*() 等方法。因此，在编写 Selenium 脚本时，合理地使用隐式等待可以有效地提高代码的稳定性和可靠性。